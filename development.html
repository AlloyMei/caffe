<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>
      Caffe | Development
    </title>

    <link rel="stylesheet" href="stylesheets/reset.css">
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-46255508-1', 'daggerfs.com');
    ga('send', 'pageview');
  </script>
    <div class="wrapper">
      <header>
        <h1 class="header"><a href="index.html">Caffe</a></h1>
        <!-- <p class="header">Convolutional Architecture for Fast Feature Embedding</p> -->

        <ul>
          <!--<li class="download"><a class="buttons" href="https://github.com/BVLC/caffe/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/BVLC/caffe/tarball/master">Download TAR</a></li>-->
          <li><a class="buttons github" href="https://github.com/BVLC/caffe">View On GitHub</a></li>
        </ul>
        <p class="header">Maintained by<br><a class="header name" href="http://bvlc.eecs.berkeley.edu/">BVLC</a></p>
        <p class="header">Created by<br><a class="header name" href="http://daggerfs.com/">Yangqing Jia</a></p>

      </header>
      <section>

      <h1 id="development">Development</h1>

<p>Caffe is developed with active participation of the community.<br /> The <a href="http://bvlc.eecs.berkeley.edu/">BVLC</a> maintainers welcome all contributions!</p>

<h3 id="documentation">Documentation</h3>

<p>Tutorials and general documentation – including this website – are written in Markdown format in the <code>docs/</code> folder. While the format is quite easy to read directly, you may prefer to view the whole thing as a website. To do so, simply run <code>jekyll serve -s docs</code> and view the documentation website at <code>http://0.0.0.0:4000</code> (for <a href="http://jekyllrb.com/">jekyll</a>, you must have ruby and do <code>gem install jekyll</code>).</p>

<p>We strive to provide provide lots of usage examples, and to document all code in docstrings. We absolutely appreciate any contribution to this effort!</p>

<h3 id="the_release_cycle">The release cycle</h3>

<ul>
<li>The <code>dev</code> branch receives all new development, including community contributions. We aim to keep it in a functional state, but large changes do occur, and things do get broken every now and then. Use only if you want the “bleeding edge”.</li>

<li>BVLC maintainers will periodically update the <code>master</code> branch with changes from <code>dev</code>, giving it a release tag (<a href="https://github.com/BVLC/caffe/releases">releases so far</a>). Use this if you want more stability.</li>
</ul>

<h3 id="issues__pull_request_protocol">Issues &amp; Pull Request Protocol</h3>

<p>Use Github Issues to report <a href="https://github.com/BVLC/caffe/issues?labels=bug&page=1&state=open">bugs</a>, propose features, and ask <a href="https://github.com/BVLC/caffe/issues?labels=question&page=1&state=open">questions</a>. Large-scale development work is guided by <a href="https://github.com/BVLC/caffe/issues?milestone=1">milestones</a>, which are sets of Issues selected for concurrent release (integration from <code>dev</code> to <code>master</code>).</p>

<p>Please note that since the core developers are largely researchers, we may work on a feature in isolation for some time before releasing it to the community, so as to claim honest academic contribution. We do release things as soon as a reasonable technical report may be written, and we still aim to inform the community of ongoing development through Github Issues.</p>

<p>When you are ready to start developing your feature or fixing a bug, follow this protocol:</p>

<ul>
<li>Do new development in <a href="https://www.atlassian.com/git/workflows#!workflow-feature-branch">feature branches</a> with descriptive names.</li>

<li>Bring your work up-to-date by <a href="http://git-scm.com/book/en/Git-Branching-Rebasing">rebasing</a> onto the latest <code>dev</code>. (Polish your changes by <a href="https://help.github.com/articles/interactive-rebase">interactive rebase</a>, if you’d like.)</li>

<li><a href="https://help.github.com/articles/using-pull-requests">Pull request</a> your contribution to <code>BVLC/caffe</code>’s <code>dev</code> branch for discussion and review.
<ul>
<li>Make PRs <em>as soon as development begins</em>, to let discussion guide development.</li>

<li>A PR is only ready for merge review when it is a fast-forward merge to dev, and all code is documented, linted, and tested – that means your PR must include tests!</li>
</ul>
</li>

<li>When the PR satisfies the above properties, use comments to request maintainer review.</li>
</ul>

<p>Below is a poetic presentation of the protocol in code form.</p>

<h4 id="shelhamers_life_of_a_branch_in_four_acts"><a href="https://github.com/shelhamer">Shelhamer’s</a> “life of a branch in four acts”</h4>

<p>Make the <code>feature</code> branch off of the latest <code>bvlc/dev</code></p>

<pre><code>
git checkout dev
git pull upstream dev
git checkout -b feature
# do your work, make commits
</code></pre>

<p>Prepare to merge by rebasing your branch on the latest <code>bvlc/dev</code></p>

<pre><code>
# make sure dev is fresh
git checkout dev
git pull upstream dev
# rebase your branch on the tip of dev
git checkout feature
git rebase dev
</code></pre>

<p>Push your branch to pull request it into <code>dev</code></p>

<pre><code>
git push origin feature
# ...make pull request to dev...
</code></pre>

<p>Now make a pull request! You can do this from the command line (<code>git pull-request -b dev</code>) if you install <a href="https://github.com/github/hub">hub</a>.</p>

<p>The pull request of <code>feature</code> into <code>dev</code> will be a clean merge. Applause.</p>

<h3 id="testing">Testing</h3>

<p>Run <code>make runtest</code> to check the project tests. New code requires new tests. Pull requests that fail tests will not be accepted.</p>

<p>The <code>googletest</code> framework we use provides many additional options, which you can access by running the test binaries directly. One of the more useful options is <code>--gtest_filter</code>, which allows you to filter tests by name:</p>

<pre><code># run all tests with CPU in the name
build/test/test_all.testbin --gtest_filter=&#39;*CPU*&#39;

# run all tests without GPU in the name (note the leading minus sign)
build/test/test_all.testbin --gtest_filter=-&#39;*GPU*&#39;</code></pre>

<p>To get a list of all options <code>googletest</code> provides, simply pass the <code>--help</code> flag:</p>

<pre><code>build/test/test_all.testbin --help</code></pre>

<h3 id="style">Style</h3>

<ul>
<li>Follow <a href="http://google-styleguide.googlecode.com/svn/trunk/cppguide.xml">Google C++ style</a> and <a href="http://google-styleguide.googlecode.com/svn/trunk/pyguide.html">Google python style</a> + <a href="http://legacy.python.org/dev/peps/pep-0008/">PEP 8</a>.</li>

<li>Wrap lines at 80 chars.</li>

<li>Remember that “a foolish consistency is the hobgoblin of little minds,” so use your best judgement to write the clearest code for your particular case.</li>

<li><strong>Run <code>make lint</code> to check C++ code.</strong></li>
</ul>

<h3 id="copyright">Copyright</h3>

<p>Assign copyright jointly to BVLC and contributors like so:</p>

<pre><code>// Copyright 2014 BVLC and contributors.</code></pre>

<p>The exact details of contributions are recorded by versioning and cited in our <a href="http://caffe.berkeleyvision.org/#acknowledgements">acknowledgements</a>. This method is impartial and always up-to-date.</p>

      </section>
<!--       <footer>
        <p><small>Hosted on <a href="http://pages.github.com">GitHub Pages</a>.</small></p>
      </footer>
 -->
  </div>
  <!--[if !IE]><script>fixScale(document);</script><![endif]-->
  </body>
</html>
